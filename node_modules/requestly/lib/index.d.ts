import { RequestlyOptions, Params, Headers, RequestOptions, RequestlyResponse, MaybePromise, OnResponse, RequestMethod } from './types.js';

declare class Cookie {
    key: string;
    value: string;
    expires?: Date;
    maxAge?: number;
    domain?: string;
    path?: string;
    secure: boolean;
    httpOnly: boolean;
    constructor(options: {
        key: string;
        value: string;
        expires?: Date;
        maxAge?: number;
        domain?: string;
        path?: string;
        secure?: boolean;
        httpOnly?: boolean;
    });
    static parse(cookieString: string): Cookie | null;
    toString(): string;
}
interface SerializedCookie {
    key: string;
    value: string;
    expires?: string;
    maxAge?: number;
    domain?: string;
    path?: string;
    secure?: boolean;
    httpOnly?: boolean;
}

declare class Requestly {
    private _baseUrl?;
    private _headers;
    private _params?;
    private _cookieJar;
    private _onRequest?;
    private _onResponse?;
    private _maxRedirects;
    private _urlHandler;
    constructor(opts?: RequestlyOptions | string);
    private _request;
    cookies: {
        serialize: () => SerializedCookie[];
        deserialize: (cookies: Record<string, string>[]) => void;
        get: (name: string, url?: string) => Promise<string | null>;
        getAll: (url: string) => Promise<any[]>;
        set: (url: string, params: ConstructorParameters<typeof Cookie>[0]) => Promise<void>;
        clear: () => void;
    };
    get baseUrl(): string | undefined;
    set baseUrl(url: string | undefined);
    create(opts?: RequestlyOptions | string): Requestly;
    get params(): Params;
    set params(params: Params);
    headers: {
        set: (key: string, value: string) => void;
        get: (key: string) => string | undefined;
        getAll: () => Headers;
        remove: (key: string) => void;
        update: (headers: Record<string, string>) => void;
    };
    get<T>(url: string, options?: Omit<RequestOptions, "body">): Promise<RequestlyResponse<T>>;
    post<T>(url: string, options?: RequestOptions): Promise<RequestlyResponse<T>>;
    put<T>(url: string, options?: RequestOptions): Promise<RequestlyResponse<T>>;
    delete<T>(url: string, options?: RequestOptions): Promise<RequestlyResponse<T>>;
    patch<T>(url: string, options?: RequestOptions): Promise<RequestlyResponse<T>>;
    onRequest: {
        set: (fn: (url: string, init: RequestInit) => MaybePromise<RequestInit | void>) => void;
        remove: () => void;
    };
    onResponse: {
        set: <T>(fn: OnResponse<T>) => void;
        remove: () => void;
    };
    fetch(url: string, options?: RequestOptions & {
        method: RequestMethod;
    }): Promise<RequestlyResponse<any>>;
}
declare const requestly: Requestly;

export { Requestly, requestly as default, requestly };
